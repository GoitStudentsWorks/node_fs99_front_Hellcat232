import{u as p,a as I,j as e,G as k,l as j,_ as w,b as F,s as f,r as N,L as v,c as T}from"./index-DixpHJSG.js";import{c as b,a as m,u as y,o as $}from"./iconBase-Dw4I21TF.js";import{F as C,P as B}from"./Page-Bx-F_Y7Q.js";import{A as M}from"./Logo-By4Rj6fr.js";const G="_signInForm_1ahu9_1",E="_signInFormHeader_1ahu9_5",q="_signInFormLabel_1ahu9_10",U="_signInFormInput_1ahu9_17",H="_signInBtn_1ahu9_35",W="_SignInPageLink_1ahu9_46",z="_signInPageText_1ahu9_52",A="_error_1ahu9_57",D="_errorInput_1ahu9_69",R="_errorPlaceholder_1ahu9_73",V="_errorMessage_1ahu9_77",J="_inputContainer_1ahu9_82",K="_togle_1ahu9_86",O="_SignUpPageLink_1ahu9_224",n={signInForm:G,signInFormHeader:E,signInFormLabel:q,signInFormInput:U,signInBtn:H,SignInPageLink:W,signInPageText:z,error:A,errorInput:D,errorPlaceholder:R,errorMessage:V,inputContainer:J,togle:K,SignUpPageLink:O},Q="_googleLoginConteiner_uqe1h_1",X="_googleLoginButton_uqe1h_8",u={googleLoginConteiner:Q,googleLoginButton:X},Y=()=>{const c=p(),r=I(),g=async a=>{const s=a.credential;try{const o=await c(j({token:s})).unwrap();localStorage.setItem("accessToken",o.accessToken),localStorage.setItem("refreshToken",o.refreshToken),r("/tracker")}catch(o){console.error("Google Login failed:",o),w.error(`Google Login failed: ${o}`)}},t=a=>{console.error("Google Login failed:",a)};return e.jsx("div",{className:u.googleLoginConteiner,children:e.jsx("div",{className:u.googleLoginButton,children:e.jsx(k,{clientId:"294769578334-funlo5rv764mpj3fh7eh5odu5l2n64pr.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:g,onFailure:t,cookiePolicy:"single_host_origin"})})})},Z=b().shape({email:m().email("Invalid email").required("Email is required"),password:m().required("Password is required")}),ee=()=>{const c=p(),r=I(),g=F(f),{register:t,handleSubmit:a,formState:{errors:s}}=y({resolver:$(Z)}),[o,h]=N.useState(!1),_=()=>{h(!o)},S=async i=>{try{const d=await c(T(i)).unwrap(),{accessToken:x,refreshToken:L}=d;localStorage.setItem("accessToken",x),localStorage.setItem("refreshToken",L),r("/tracker")}catch{}},P=i=>{localStorage.setItem("accessToken",i.accessToken),localStorage.setItem("refreshToken",i.refreshToken),r("/tracker")};return e.jsxs("div",{className:n.signInForm,children:[e.jsx("h2",{className:n.signInFormHeader,children:"Sign In"}),e.jsxs("form",{onSubmit:a(S),children:[e.jsx("label",{className:n.signInFormLabel,children:"Email"}),e.jsx("input",{className:`${n.signInFormInput} ${s.email?`${n.errorPlaceholder} ${n.errorInput}`:""}`,type:"email",placeholder:s.email?"Invalid email":"Enter your email",...t("email")}),s.email&&e.jsx("p",{className:n.errorMessage,children:s.email.message}),e.jsx("label",{className:n.signInFormLabel,children:"Password"}),e.jsxs("div",{className:n.inputContainer,children:[e.jsx("input",{className:`${n.signInFormInput} ${s.password?`${n.errorPlaceholder} ${n.errorInput}`:""}`,type:o?"text":"password",placeholder:s.password?"Invalid password":"Enter your password",...t("password")}),e.jsx(C,{className:n.togle,onClick:_})]}),s.password&&e.jsx("p",{className:n.errorMessage,children:s.password.message}),e.jsx("button",{type:"submit",disabled:g==="pending",className:n.signInBtn,children:"Sign In"})]}),e.jsxs("p",{className:n.signInPageText,children:["Don't have an account?"," ",e.jsx(v,{to:"/signup",className:n.SignInPageLink,children:"Sign Up"})]}),e.jsx(Y,{onSuccess:P})]})},ne="_SignInPageWrapper_wzt7d_1",se="_SignInPageSection_wzt7d_6",oe="_SignInPageMedia_wzt7d_17",l={SignInPageWrapper:ne,SignInPageSection:se,SignInPageMedia:oe},ce=()=>e.jsxs("div",{className:l.SignInPageWrapper,children:[e.jsxs("div",{className:l.SignInPageSection,children:[e.jsx(B,{}),e.jsx(ee,{})]}),e.jsx("div",{className:l.SignInPageMedia,children:e.jsx(M,{})})]});export{ce as default};
//# sourceMappingURL=SignInPage-DmOfoqnE.js.map
